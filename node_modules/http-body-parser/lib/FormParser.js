'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _querystring = require('querystring');

var _querystring2 = _interopRequireDefault(_querystring);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

class FormParser {
  constructor(body, headers, limit = 56 * 1024) {
    this.body = body;
    this.headers = headers;
    this.limit = limit;
  }

  parse() {
    return _querystring2.default.parse(this.body.toString(this.headers['content-encoding'] || 'utf8'));
  }

  static getTypes(extendsTypes = []) {
    const originTypes = new Array('application/x-www-form-urlencoded');
    return Array.from(new Set(originTypes.concat(extendsTypes)));
  }
}

exports.default = FormParser;